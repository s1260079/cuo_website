{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Vue from 'vue';\nimport axios from 'axios';\nimport firebase from 'firebase';\nexport default {\n  name: 'Home',\n  data: function data() {\n    return {\n      bookInfo: {},\n      bookInfoBool: false,\n      books: [],\n      authenticatedUser: ''\n    };\n  },\n  mounted: function mounted() {\n    this.fetchBooks(); //   firebase.auth().onAuthStateChanged((user) => {\n    //   if (user) {\n    //     console.log('login');\n    //     this.authenticatedUser = true;\n    //   } else {\n    //     console.log('logout');\n    //     this.authenticatedUser = false;\n    //   }\n    // });\n  },\n  methods: {\n    fetchBooks: function fetchBooks() {\n      var _this = this;\n\n      axios.get('/api/books').then(function (res) {\n        for (var i = 0; i < res.data.books.length; i++) {\n          _this.books.push(res.data.books[i]);\n        }\n      }, function (error) {\n        console.log(error);\n      });\n    },\n    setBookInfo: function setBookInfo(id) {\n      var _this2 = this;\n\n      axios.get(\"api/books/\".concat(id, \".json\")).then(function (res) {\n        _this2.bookInfo = res.data;\n        _this2.bookInfoBool = true;\n      });\n    } // deleteBook(id) {\n    // axios.delete(`/api/books/${id}`).then(res => {\n    //   this.books = [];\n    //   this.bookInfo = '';\n    //   this.bookInfoBool = false;\n    //   this.fetchBooks();\n    //   })\n    // },\n\n  }\n};","map":{"version":3,"sources":["BookHome.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA,OAAA,GAAA,MAAA,KAAA;AACA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,QAAA,MAAA,UAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,YAAA,EAAA,KAFA;AAGA,MAAA,KAAA,EAAA,EAHA;AAIA,MAAA,iBAAA,EAAA;AAJA,KAAA;AAMA,GATA;AAUA,EAAA,OAAA,EAAA,mBAAA;AACA,SAAA,UAAA,GADA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GArBA;AAsBA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AAAA;;AACA,MAAA,KAAA,CAAA,GAAA,CAAA,YAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,aAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,UAAA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA,GAAA,CAAA,IAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA;AACA,OAJA,EAIA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,OANA;AAOA,KATA;AAUA,IAAA,WAVA,uBAUA,EAVA,EAUA;AAAA;;AACA,MAAA,KAAA,CAAA,GAAA,qBAAA,EAAA,YAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA;AACA,QAAA,MAAA,CAAA,YAAA,GAAA,IAAA;AACA,OAHA;AAIA,KAfA,CAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAvBA;AAtBA,CAAA","sourcesContent":["<template>\n  <div class=\"container\">\n    <h1 class=\"#f3e5f5 purple lighten-5 center\">[Rails+Vue.js]~Bookshelf~</h1>\n    <div class=\"row #e3f2fd blue lighten-5\">\n      <div class=\"col s4 m6\" v-for=\"book in books\" :key=\"book.id\">\n        <div class=\"card btn\">\n          <span class=\"card-title\" v-on:click=\"setBookInfo(book.id)\">\n            {{ book.title }}\n          </span>\n        </div>\n      </div>\n    </div>\n    <div class=\"row\" v-show=\"bookInfoBool\">\n      <div class=\"col s12 m12\">\n        <div class=\"card blue-grey darken-1\">\n          <div class=\"card-content white-text\">\n            <span class=\"card-title\">\n              【{{ bookInfo.title }}】\n            </span>\n            <div class=\"detail\">\n              ・著者：{{ bookInfo.author }}\n            </div>\n            <div class=\"detail\">\n              ・出版社：{{ bookInfo.publisher }}\n            </div>\n            <div class=\"detail\">\n              ・ジャンル：{{ bookInfo.genre }}\n            </div>\n            <!-- <router-link :to=\"{ path: `/edit/${bookInfo.id}` }\" class=\"btn\">本の編集</router-link>\n            <button class=\"btn #e53935 red darken-1\" v-on:click=\"deleteBook(bookInfo.id)\">削除</button> -->\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import Vue from 'vue'\n  import axios from 'axios'\n  import firebase from 'firebase'\n\n  export default {\n    name: 'Home',\n    data: function() {\n      return {\n        bookInfo: {},\n        bookInfoBool: false,\n        books: [],\n        authenticatedUser: ''\n      }\n    },\n    mounted: function() {\n      this.fetchBooks();\n    //   firebase.auth().onAuthStateChanged((user) => {\n    //   if (user) {\n    //     console.log('login');\n    //     this.authenticatedUser = true;\n    //   } else {\n    //     console.log('logout');\n    //     this.authenticatedUser = false;\n    //   }\n    // });\n    },\n    methods: {\n      fetchBooks() {\n        axios.get('/api/books').then((res) => {\n          for(var i = 0; i < res.data.books.length; i++) {\n            this.books.push(res.data.books[i]);\n          }\n        }, (error) => {\n          console.log(error);\n        });\n      },\n      setBookInfo(id){\n        axios.get(`api/books/${id}.json`).then(res => {\n          this.bookInfo = res.data;\n          this.bookInfoBool = true;\n        });\n      },\n      // deleteBook(id) {\n      // axios.delete(`/api/books/${id}`).then(res => {\n      //   this.books = [];\n      //   this.bookInfo = '';\n      //   this.bookInfoBool = false;\n      //   this.fetchBooks();\n      //   })\n      // },\n    }\n  }\n</script>\n\n<style scoped></style>\n"],"sourceRoot":"app/javascript/views"},"metadata":{},"sourceType":"module"}