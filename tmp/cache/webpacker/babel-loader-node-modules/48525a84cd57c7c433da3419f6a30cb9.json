{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nexport default {\n  data: function data() {\n    return {\n      passwd2: '',\n      message: '',\n      band: {}\n    };\n  },\n  mounted: function mounted() {\n    this.getBand();\n  },\n  methods: {\n    getBand: function getBand() {\n      var _this = this;\n\n      axios.get(\"/api/bands/\".concat(this.$route.params.id, \".json\")).then(function (response) {\n        return _this.band = response.data;\n      });\n    },\n    pass_vali: function pass_vali() {\n      if (this.passwd2.length < 1) {\n        this.message = '※ パスワードを入力してください';\n        return true;\n      } else return false;\n    },\n    pass12_vali: function pass12_vali() {\n      if (this.band.password != this.passwd2) {\n        this.message = '※ パスワードが登録済みパスワードと一致しません。';\n        return true;\n      } else return false;\n    },\n    updateBand: function updateBand() {\n      var _this2 = this;\n\n      if (this.pass_vali()) return;\n      if (this.pass12_vali()) return;\n      axios.put(\"/api/bands/\".concat(this.$route.params.id), {\n        band: this.band\n      }).then(function (response) {\n        _this2.$router.push({\n          path: '/band'\n        });\n      })[\"catch\"](function (error) {\n        console.error(error);\n\n        if (error.response.data && error.response.data.errors) {\n          _this2.errors = error.response.data.errors;\n        }\n      });\n    },\n    deleteBand: function deleteBand(id) {\n      var _this3 = this;\n\n      if (this.pass_vali()) return;\n      if (this.pass12_vali()) return;\n      axios[\"delete\"](\"/api/bands/\".concat(id)).then(function (res) {\n        _this3.$router.push({\n          path: '/band'\n        });\n      });\n    }\n  }\n};","map":{"version":3,"sources":["BandEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA,OAAA,KAAA,MAAA,OAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA,EAFA;AAGA,MAAA,IAAA,EAAA;AAHA,KAAA;AAKA,GAPA;AAQA,EAAA,OARA,qBAQA;AACA,SAAA,OAAA;AACA,GAVA;AAWA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AAAA;;AACA,MAAA,KAAA,CACA,GADA,sBACA,KAAA,MAAA,CAAA,MAAA,CAAA,EADA,YAEA,IAFA,CAEA,UAAA,QAAA;AAAA,eAAA,KAAA,CAAA,IAAA,GAAA,QAAA,CAAA,IAAA;AAAA,OAFA;AAGA,KALA;AAMA,IAAA,SANA,uBAMA;AACA,UAAA,KAAA,OAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,aAAA,OAAA,GAAA,kBAAA;AACA,eAAA,IAAA;AACA,OAHA,MAIA,OAAA,KAAA;AACA,KAZA;AAaA,IAAA,WAbA,yBAaA;AACA,UAAA,KAAA,IAAA,CAAA,QAAA,IAAA,KAAA,OAAA,EAAA;AACA,aAAA,OAAA,GAAA,2BAAA;AACA,eAAA,IAAA;AACA,OAHA,MAIA,OAAA,KAAA;AACA,KAnBA;AAoBA,IAAA,UApBA,wBAoBA;AAAA;;AACA,UAAA,KAAA,SAAA,EAAA,EAAA;AACA,UAAA,KAAA,WAAA,EAAA,EAAA;AACA,MAAA,KAAA,CACA,GADA,sBACA,KAAA,MAAA,CAAA,MAAA,CAAA,EADA,GACA;AAAA,QAAA,IAAA,EAAA,KAAA;AAAA,OADA,EAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,QAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA;AACA,OAJA,WAKA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,KAAA,CAAA,KAAA;;AACA,YAAA,KAAA,CAAA,QAAA,CAAA,IAAA,IAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,MAAA,EAAA;AACA,UAAA,MAAA,CAAA,MAAA,GAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,MAAA;AACA;AACA,OAVA;AAWA,KAlCA;AAmCA,IAAA,UAnCA,sBAmCA,EAnCA,EAmCA;AAAA;;AACA,UAAA,KAAA,SAAA,EAAA,EAAA;AACA,UAAA,KAAA,WAAA,EAAA,EAAA;AACA,MAAA,KAAA,UAAA,sBAAA,EAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA;AACA,OAFA;AAGA;AAzCA;AAXA,CAAA","sourcesContent":["<template>\n  <div class=\"container\">\n    <h1 style=\"text-align:center\">Bandの編集</h1>\n    <div class=\"box\">\n      <span class=\"item-name\">\n        <v-text-field label=\"バンド名\" single-line solo v-model=\"band.bandTitle\"></v-text-field>\n      </span>\n       <div class=\"textarea-wrap\">\n         <textarea placeholder=\"メンバー構成\"  rows=\"8\" cols=\"80\" v-model=\"band.bandContent\" ></textarea>\n       </div>\n       <div style='height: 100px;' class=\"textarea-wrap\">\n         <textarea placeholder=\"一言\"  rows=\"8\" cols=\"80\" v-model=\"band.message\" ></textarea>\n       </div>\n       <v-text-field placeholder=\"ユーザーを　”編集、消去”　する際はここにパスワードを入力してください\" single-line solo v-model=\"passwd2\"></v-text-field>\n       <div class=\"alert\">\n        <p>{{ message }}</p>\n      </div>\n       <p style=\"text-align:center\">\n         <v-btn v-on:click=\"updateBand\">Bandの情報を変更</v-btn>\n       </p>\n       <p style=\"text-align:center\">\n         <v-btn class=\"btn #e53935 red darken-1\" v-on:click=\"deleteBand(band.id)\">削除</v-btn>\n       </p>\n    </div>\n  </div>\n</template>\n\n<script>\n  import axios from 'axios';\n  export default {\n    data: function () {\n    return {\n      passwd2: '',\n      message: '',\n      band: {}\n    }\n  },\n    mounted () {\n      this.getBand()\n    },\n    methods: {\n      getBand(){\n        axios\n      .get(`/api/bands/${this.$route.params.id}.json`)\n      .then(response => (this.band = response.data))\n      },\n      pass_vali() {\n      if(this.passwd2.length < 1) {\n        this.message = '※ パスワードを入力してください'\n        return true\n      }\n      else return false\n    },\n      pass12_vali() {\n      if(this.band.password != this.passwd2) {\n        this.message = '※ パスワードが登録済みパスワードと一致しません。'\n        return true\n      }\n      else return false\n    },\n      updateBand() {\n        if( this.pass_vali() ) return\n        if( this.pass12_vali() ) return\n        axios\n        .put(`/api/bands/${this.$route.params.id}`, { band: this.band })\n        .then(response => {\n          this.$router.push({ path: '/band' });\n        })\n        .catch(error => {\n          console.error(error);\n          if (error.response.data && error.response.data.errors) {\n            this.errors = error.response.data.errors;\n          }\n        });\n      },\n      deleteBand(id) {\n        if( this.pass_vali() ) return\n        if( this.pass12_vali() ) return\n      axios.delete(`/api/bands/${id}`).then(res => {\n        this.$router.push({ path: '/band' });\n        })\n      },\n    }\n  }\n</script>\n\n<style scoped>\n.box {\n  margin: auto;\n}\nh1 {\n    color: black;\n    /* background-color: #F8F8FF; */\n    font-weight: 900;\n    margin-top: 40px;\n    margin-bottom: 40px;\n    font-size: 30px;\n  }\ntextarea{\n  width: 80%;\n  height: 300px;\n  padding: 5px;\n  border-radius: 5px;\n  border: 1px solid #ccc;\n  appearance: none;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n}\n.alert {\n  height: 18px;\n  font-size: 12px;\n  text-align: left;\n  color: red;\n }\n</style>\n"],"sourceRoot":"app/javascript/views"},"metadata":{},"sourceType":"module"}