{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Vue from 'vue';\nimport axios from 'axios';\nimport _firebase from 'firebase';\nexport default {\n  name: 'Home',\n  data: function data() {\n    return {\n      use: '',\n      email: '',\n      userInfo: {},\n      userInfoBool: false,\n      users: [],\n      authenticatedUser: ''\n    };\n  },\n  mounted: function mounted() {\n    this.firebase();\n    this.fetchUsers();\n  },\n  methods: {\n    firebase: function firebase() {\n      this.use = _firebase.auth().currentUser;\n\n      if (this.use != null) {\n        this.email = this.use.email;\n      }\n    },\n    fetchUsers: function fetchUsers() {\n      var _this = this;\n\n      axios.get('/api/users').then(function (res) {\n        for (var i = 0; i < res.data.users.length; i++) {\n          _this.users.push(res.data.users[i]);\n        }\n      }, function (error) {\n        console.log(error);\n      });\n    },\n    setUserInfo: function setUserInfo(id) {\n      var _this2 = this;\n\n      this.authenticatedUser = '';\n      axios.get(\"api/users/\".concat(id, \".json\")).then(function (res) {\n        _this2.userInfo = res.data;\n        _this2.userInfoBool = true;\n\n        if (_this2.userInfo.email == _this2.email) {\n          _this2.authenticatedUser = true;\n        } else {\n          _this2.authenticatedUser = false;\n        }\n      });\n    },\n    deleteUser: function deleteUser(id) {\n      var _this3 = this;\n\n      axios[\"delete\"](\"/api/users/\".concat(id)).then(function (res) {\n        _this3.users = [];\n        _this3.userInfo = '';\n        _this3.userInfoBool = false;\n\n        _this3.fetchUsers();\n      });\n    }\n  } // updateUser() {\n  //     axios\n  //     .put(`/api/users/${this.$route.params.id}`, { user: this.user })\n  //     .then(response => {\n  //       this.$router.push({ path: '/mypage' });\n  //     })\n  //     .catch(error => {\n  //       console.error(error);\n  //       if (error.response.data && error.response.data.errors) {\n  //         this.errors = error.response.data.errors;\n  //       }\n  //     });\n  //   }\n\n};","map":{"version":3,"sources":["Movie.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0MA,OAAA,GAAA,MAAA,KAAA;AACA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,SAAA,MAAA,UAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,GAAA,EAAA,EADA;AAEA,MAAA,KAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA,EAHA;AAIA,MAAA,YAAA,EAAA,KAJA;AAKA,MAAA,KAAA,EAAA,EALA;AAMA,MAAA,iBAAA,EAAA;AANA,KAAA;AAQA,GAXA;AAYA,EAAA,OAAA,EAAA,mBAAA;AACA,SAAA,QAAA;AACA,SAAA,UAAA;AACA,GAfA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,QAAA,EAAA,oBAAA;AACA,WAAA,GAAA,GAAA,SAAA,CAAA,IAAA,GAAA,WAAA;;AACA,UAAA,KAAA,GAAA,IAAA,IAAA,EAAA;AACA,aAAA,KAAA,GAAA,KAAA,GAAA,CAAA,KAAA;AACA;AACA,KANA;AAOA,IAAA,UAPA,wBAOA;AAAA;;AACA,MAAA,KAAA,CAAA,GAAA,CAAA,YAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,aAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,UAAA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA,GAAA,CAAA,IAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA;AACA,OAJA,EAIA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,OANA;AAOA,KAfA;AAgBA,IAAA,WAhBA,uBAgBA,EAhBA,EAgBA;AAAA;;AACA,WAAA,iBAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,GAAA,qBAAA,EAAA,YAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA;AACA,QAAA,MAAA,CAAA,YAAA,GAAA,IAAA;;AACA,YAAA,MAAA,CAAA,QAAA,CAAA,KAAA,IAAA,MAAA,CAAA,KAAA,EAAA;AACA,UAAA,MAAA,CAAA,iBAAA,GAAA,IAAA;AACA,SAFA,MAEA;AACA,UAAA,MAAA,CAAA,iBAAA,GAAA,KAAA;AACA;AACA,OARA;AASA,KA3BA;AA4BA,IAAA,UA5BA,sBA4BA,EA5BA,EA4BA;AAAA;;AACA,MAAA,KAAA,UAAA,sBAAA,EAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,KAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,YAAA,GAAA,KAAA;;AACA,QAAA,MAAA,CAAA,UAAA;AACA,OALA;AAMA;AAnCA,GAhBA,CAqDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAjEA,CAAA","sourcesContent":["\n<!--\n* vue.js + vuetify.js + Custom view sample css\n* Copyright (c) 2019 Cybozu\n*\n* Licensed under the MIT License\n-->\n<div id=\"app\">\n  <v-app>\n    <v-content>\n      <v-container fluid>\n        <template v-if=\"!detailView\">\n          <v-card>\n            <v-card-title>\n                顧客一覧\n                <v-spacer></v-spacer>\n                <v-text-field\n                v-model=\"search\"\n                append-icon=\"search\"\n                label=\"検索\"\n                single-line\n                hide-details\n                ></v-text-field>\n            </v-card-title>\n            <v-data-table\n                :headers=\"headers\"\n                :items=\"customers\"\n                :search=\"search\"\n                class=\"elevation-1\"\n                :pagination.sync=\"pagination\"\n                hide-actions\n            >\n              <template v-slot:items=\"props\">\n                <td>\n                    <v-icon\n                        large\n                        color=\"primary\"\n                        @click=\"showDetail(props.item)\"\n                    >\n                        pageview\n                    </v-icon>\n                </td>\n                <td>{{ props.item.record_no.value }}</td>\n                <td>{{ props.item.Company_name.value }}</td>\n                <td>{{ props.item.Department.value }}</td>\n                <td>{{ props.item.Representative.value }}</td>\n                <td>{{ props.item.Address.value }}</td>\n              </template>\n            </v-data-table>\n            <div class=\"text-xs-center pt-2\">\n                <v-pagination v-model=\"pagination.page\" :length=\"pages\"></v-pagination>\n            </div>\n          </v-card>\n        </template>\n        <template v-else>\n          <v-layout justify-left>\n            <v-flex xs12 sm10 md8>\n              <v-card>\n                <v-card-actions>\n                  <v-layout justify-left>\n                    <v-btn class=\"text-xs-center\" large outline color=\"primary\" @click=\"back\">一覧に戻る</v-btn>\n                    <v-btn class=\"text-xs-center\" large color=\"primary\" @click=\"save\">変更を保存</v-btn>\n                  </v-layout>\n                </v-card-actions>\n                <v-divider></v-divider>\n                <v-card-title>\n                  顧客詳細\n                </v-card-title>\n                <v-card-text>\n                  <v-layout row justify-space-around>\n                    <v-flex xs12 sm6 md3>\n                      <v-text-field\n                        v-model=\"customer.Company_name.value\"\n                        label=\"会社名\"\n                        box\n                      >\n                      </v-text-field>\n                    </v-flex>\n                    <v-flex xs12 sm6 md3>\n                      <v-text-field\n                        v-model=\"customer.Department.value\"\n                        label=\"部署名\"\n                        box\n                      >\n                      </v-text-field>\n                    </v-flex>\n                    <v-flex xs12 sm6 md3>\n                      <v-text-field\n                        v-model=\"customer.Representative.value\"\n                        label=\"担当者名\"\n                        box\n                      >\n                      </v-text-field>\n                    </v-flex>\n                  </v-layout>\n                  <v-layout row justify-space-around>\n                    <v-flex xs12 sm6 md3>\n                      <v-text-field\n                        v-model=\"customer.Zip_code.value\"\n                        label=\"郵便番号\"\n                        box\n                      >\n                      </v-text-field>\n                    </v-flex>\n                    <v-flex xs12 sm6 md3>\n                      <v-text-field\n                        v-model=\"customer.Phone.value\"\n                        label=\"電話番号\"\n                        box\n                      >\n                      </v-text-field>\n                    </v-flex>\n                    <v-flex xs12 sm6 md3>\n                      <v-text-field\n                        v-model=\"customer.Fax.value\"\n                        label=\"Fax\"\n                        box\n                      >\n                      </v-text-field>\n                    </v-flex>\n                  </v-layout>\n                  <v-layout row justify-space-around>\n                    <v-flex xs12 sm6 md5>\n                      <v-text-field\n                        v-model=\"customer.Address.value\"\n                        label=\"住所\"\n                        box\n                      >\n                      </v-text-field>\n                    </v-flex>\n                    <v-flex xs12 sm6 md5>\n                      <v-select\n                        v-model=\"customer.Rank.value\"\n                        :items=\"rankList\"\n                        label=\"顧客ランク\"\n                        box\n                        attach\n                      >\n                      </v-select>\n                    </v-flex>\n                  </v-layout>\n                  <v-layout row justify-space-around>\n                    <v-flex xs12 md11>\n                      <v-text-field\n                        v-model=\"customer.Mail.value\"\n                        label=\"メールアドレス\"\n                        box\n                      >\n                      </v-text-field>\n                    </v-flex>\n                  </v-layout>\n                  <v-layout row justify-space-around>\n                    <v-flex xs12 md11>\n                      <v-text-field\n                        v-model=\"customer.Note.value\"\n                        abel=\"備考\"\n                        box\n                      >\n                      </v-text-field>\n                    </v-flex>\n                  </v-layout>\n                  <v-layout row justify-space-around>\n                    <v-flex xs12 md11>\n                      <v-text-field\n                        v-model=\"customer.record_no.value\"\n                        label=\"レコード番号\"\n                        disabled\n                        box\n                      >\n                      </v-text-field>\n                    </v-flex>\n                  </v-layout>\n                  <v-layout row justify-space-around>\n                    <v-flex xs12 sm6 md5>\n                      <v-text-field\n                        v-model=\"customer.lat.value\"\n                        label=\"緯度\"\n                        box\n                      >\n                      </v-text-field>\n                    </v-flex>\n                    <v-flex xs12 sm6 md5>\n                      <v-text-field\n                        v-model=\"customer.lng.value\"\n                        label=\"経度\"\n                        box\n                      >\n                      </v-text-field>\n                    </v-flex>\n                  </v-layout>\n                </v-card-text>\n              </v-card>\n            </v-flex>\n          </v-layout>\n        </template>\n      </v-container>\n    </v-content>\n  </v-app>\n</div>\n\n\n<script>\n  import Vue from 'vue'\n  import axios from 'axios'\n  import firebase from 'firebase'\n\n  export default {\n    name: 'Home',\n    data: function() {\n      return {\n        use:'',\n        email:'',\n        userInfo: {},\n        userInfoBool: false,\n        users: [],\n        authenticatedUser: ''\n      }\n    },\n    mounted: function() {\n      this.firebase();\n      this.fetchUsers();\n    },\n    methods: {\n      firebase: function(){\n        this.use = firebase.auth().currentUser;\n        if (this.use != null) {\n            this.email = this.use.email;\n        }\n      },\n      fetchUsers() {\n        axios.get('/api/users').then((res) => {\n          for(var i = 0; i < res.data.users.length; i++) {\n            this.users.push(res.data.users[i]);\n          }\n        }, (error) => {\n          console.log(error);\n        });\n      },\n      setUserInfo(id){\n        this.authenticatedUser = '';\n        axios.get(`api/users/${id}.json`).then(res => {\n          this.userInfo = res.data;\n          this.userInfoBool = true;\n          if (this.userInfo.email == this.email) {\n             this.authenticatedUser = true;\n          }else {\n             this.authenticatedUser = false;\n      }\n        });\n      },\n      deleteUser(id) {\n      axios.delete(`/api/users/${id}`).then(res => {\n        this.users = [];\n        this.userInfo = '';\n        this.userInfoBool = false;\n        this.fetchUsers();\n        })\n      }\n    },\n    // updateUser() {\n    //     axios\n    //     .put(`/api/users/${this.$route.params.id}`, { user: this.user })\n    //     .then(response => {\n    //       this.$router.push({ path: '/mypage' });\n    //     })\n    //     .catch(error => {\n    //       console.error(error);\n    //       if (error.response.data && error.response.data.errors) {\n    //         this.errors = error.response.data.errors;\n    //       }\n    //     });\n    //   }\n  }\n</script>\n\n<style scoped></style>\n"],"sourceRoot":"app/javascript/views"},"metadata":{},"sourceType":"module"}